<!-- header.html -->
<header class="enhanced-header">
    <div class="logo">eQuizards</div>
    <nav>
        <ul>
            <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
            <li><a href="courses.html"><i class="fas fa-book"></i> Courses</a></li>
            <li><a href="#"><i class="fas fa-book-reader"></i> Library</a></li>
            <li><a href="#"><i class="fas fa-robot"></i> AI Chatbot</a></li>
            <li><a href="#"><i class="fas fa-user-graduate"></i> Student Portal</a></li>
            <li><a href="#"><i class="fas fa-chalkboard-teacher"></i> Faculty Portal</a></li>
            <li><a href="#"><i class="fas fa-envelope"></i> Contact Us</a></li>
        </ul>
    </nav>
    <div class="auth-buttons">
        <button id="signupButton" class="btn">Sign Up</button>
        <button id="loginButton" class="btn">Log In</button>
        <div id="profile-container" class="dropdown" style="display: none;">
            <img id="profile-icon" src="" alt="Profile Icon" class="profile-icon" onclick="toggleDropdown()">
            <div class="dropdown-content" id="profileDropdown">
                <a href="#" id="profile-name"><i class="fas fa-user"></i> <span id="profile-name-text"></span></a>
                <a href="#" id="logoutButton"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
    </div>
</header>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        checkAuthState();
    });

    function checkAuthState() {
        auth.onAuthStateChanged(user => {
            if (user) {
                document.getElementById('signupButton').style.display = 'none';
                document.getElementById('loginButton').style.display = 'none';
                document.getElementById('profile-container').style.display = 'inline-block';
                document.getElementById('profile-icon').src = user.photoURL;
                document.getElementById('profile-name-text').textContent = user.displayName;
            } else {
                document.getElementId('signupButton').style.display = 'block';
                document.getElementById('loginButton').style.display = 'block';
                document.getElementById('profile-container').style.display = 'none';
            }
        });
    }

    function toggleDropdown() {
        document.getElementById("profileDropdown").classList.toggle("show");
    }

    window.onclick = function(event) {
        if (!event.target.matches('.profile-icon')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>
